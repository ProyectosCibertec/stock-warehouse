
<div class="container col-md-10">
  <div class="card-header mt-2 opacity-25">
    <h1 class="text-dark text-center"> Detalles de orden de compra</h1>
  </div>
  <mat-card class="h-auto w-auto p-3">
    <form action="" class="m-2"> 
    <div class="row d-flex justify-content-center m-2">
    <div class="p-2 col-12 ">
      <h3>Datos de la orden de compra</h3>
      <div class="example-container d-flex justify-content-around"> 
        <mat-form-field  class="example-full-width">
          <mat-label>ID. de Orden de Compra:</mat-label>
          <input matInput type="number" placeholder="id_orden_compra" [(ngModel)]="ordenCompra.id_orden_compra" name="id_orden_compra" required readonly>
        </mat-form-field>
          <mat-form-field  class="example-full-width">
              <mat-label>Nro. de Orden de Compra:</mat-label>
              <input matInput type="text"  placeholder="nro_orden_compra" [(ngModel)]="ordenCompra.nro_orden_compra" name="nro_orden_compra" required readonly>
            </mat-form-field>
            <mat-form-field class="example-full-width" >
              <mat-label>Fecha de Orden de Compra:</mat-label>
              <input matInput type="date" #input placeholder="fechaorden_compra" [(ngModel)]="ordenCompra.fechaorden_compra" name="fechaorden_compra" required readonly>
            </mat-form-field>
          <mat-form-field class="example-full-width " floatLabel="always">
            <mat-label>Valor Total de la Orden:</mat-label>
            <input matInput type="text" placeholder="valortotal_orden" class="example-right-align" [(ngModel)]="ordenCompra.valortotal_orden" name="valortotal_orden" required readonly>
            <span matTextPrefix>$&nbsp;</span>
            <span matTextSuffix>.00</span>
          </mat-form-field>
        <mat-form-field class=" example-full-width">
          <mat-label>Proveedor</mat-label>
          <mat-select [(ngModel)]="ordenCompra.proveedor.id" name="proveedor"  required [disabled]="true" class="custom-select">
            <mat-option *ngFor="let proveedor of proveedores"[value]="proveedor.id">
              {{proveedor.razonSocial}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
  </div>
    </form>

    <div class="mt-3">
      <h3 class="ms-4">Detalles de la orden de compra</h3>
      <table class="table mat-elevation-z8 ">
        <thead class="thead-dark">
          <tr>
            <th scope="col">ID</th>
            <th scope="col">Producto</th>
            <th scope="col">cantidad</th>
            <th scope="col">precio</th>
            <th scope="col">Valor Detalle</th>
            <th scope="col">Estado</th>
            <th class="" scope="col">Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let detalleOrdenCompra of ordenCompra.ordenCompraDetalleDTOList">
            <th scope="row">{{detalleOrdenCompra.id_detalle_orden}}</th>
            <td>{{detalleOrdenCompra.producto.descripcion}}</td>
            <td>{{detalleOrdenCompra.cantidad}}</td>
            <td>{{detalleOrdenCompra.precio_unitario}}</td>
            <td>{{detalleOrdenCompra.costo_detalleorden}}</td>
            <td>{{detalleOrdenCompra.estado}}</td>
            <td>
              <button mat-icon-button color="warn" class="delete-button" (click)="eliminarDetalleOrdeCompra(detalleOrdenCompra)">
                <mat-icon class="delete-icon">delete</mat-icon>
              </button>
            </td>
          </tr>
          
        </tbody>
      </table>
    </div>
  </mat-card>
</div>

